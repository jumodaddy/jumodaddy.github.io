<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/></head><body><div class="section" title="Képalkotás"><div class="titlepage"><div><div><h1 class="title"><a id="id780704"/>Képalkotás</h1></div></div></div><p>A látás egy <span class="strong"><strong>jelenet</strong></span> (<span class="strong"><strong>scene</strong></span>) objektumairól szóródó fényt összegyűjti, majd egy kétdimenziós <span class="strong"><strong>kép</strong></span>et (<span class="strong"><strong>image</strong></span>) alkot egy képsíkon. A képsíkot fényérzékeny anyag borítja: a retinában rodopszinmolekulák, a negatív filmen ezüst-halogenidek, a digitális fényképezőgépben pedig egy töltéscsatolt eszköz (CCD) lapka. A CCD minden cellája öszszegyűjti a fényelnyelés által adott idő alatt keltett elektronokat. A digitális fényképezőgépben a képsík egy néhány millió <span class="strong"><strong>képpont</strong></span>ból (<span class="strong"><strong>pixel</strong></span>) álló négyzethálóra van felosztva. A szem hasonló képpontráccsal rendelkezik, amely körülbelül 100 millió pálcikát és 5 millió csapot tartalmaz egy hexagonális mozaikba rendezve.</p><p>A jelenet nagyon nagy, és a képsík egészen kicsi, tehát lennie kell valamilyen módszernek a fény képsíkra fókuszálásához. Ezt megtehetjük lencsével vagy anélkül. Bárhogy is tesszük, a lényeg a geometria meghatározása, hogy megmondhassuk, a jelenet melyik pontja hova kerül a képsíkon.</p><div class="section" title="Lencsék nélküli képek: a sötétkamra"><div class="titlepage"><div><div><h2 class="title"><a id="id780742"/>Lencsék nélküli képek: a sötétkamra</h2></div></div></div><div class="figure"><a id="id780745"/><p class="title"><strong>24.1. ábra - A képalkotás geometriája a sötétkamrában</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/24-01.png" alt="A képalkotás geometriája a sötétkamrában"/></div></div></div><p>A képalkotás legegyszerűbb eszköze a <span class="strong"><strong>sötétkamra</strong></span>, amely egy doboz elején található kis lyukból (<span class="emphasis"><em>O</em></span>) és a doboz hátsó részén levő képsíkból áll (lásd 24.1. ábra). Egy háromdimenziós koordináta-rendszert fogunk használni, amelynek az origója az <span class="emphasis"><em>O </em></span>pont, a jelenet egy <span class="emphasis"><em>P</em></span> pontját pedig az (<span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Y</em></span>, <span class="emphasis"><em>Z</em></span>) koordinátákkal reprezentáljuk. A <span class="emphasis"><em>P </em></span>pontot egy <span class="emphasis"><em>P'</em></span> pontra képezzük le a képsíkon, amelynek koordinátái (<span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Y</em></span>, <span class="emphasis"><em>Z</em></span>). Ha <span class="emphasis"><em>f</em></span> az <span class="emphasis"><em>O</em></span> pontszerű lyuknak a képsíktól vett távolsága, akkor a hasonló háromszögek alapján az alábbi egyenleteket tudjuk levezetni:</p><p><span class="inlinemediaobject"><img src="math/mi-24-0001.gif" alt="A képalkotás geometriája a sötétkamrában"/></span></p><p>Ezek az egyenletek egy <span class="strong"><strong>perspektivikus vetítés</strong></span> (<span class="strong"><strong>perspective projection</strong></span>) néven ismert képalkotási eljárást definiálnak. Vegyük észre, hogy a <span class="emphasis"><em>Z</em></span> az osztóban azt jelenti, hogy minél távolabb van az objektum, annál kisebb lesz a képe. Valamint azt is figyeljük meg, hogy a kép, mind a bal–jobb, mind a fel–le irányban <span class="emphasis"><em>fordított</em></span> a jelenethez képest, amit az egyenletekben a negatív előjel jelez.</p><p>A perspektivikus vetítésben a párhuzamos vonalak a horizontvonalon lévő pontban futnak össze. Nézzük meg, miért szükségszerű ez! Az (<span class="emphasis"><em>X</em></span><sub>0</sub>, <span class="emphasis"><em>Y</em></span><sub>0</sub>, <span class="emphasis"><em>Z</em></span><sub>0</sub>) ponton keresztül (<span class="emphasis"><em>U</em></span>, <span class="emphasis"><em>V</em></span>, <span class="emphasis"><em>W</em></span>) irányban áthaladó egyenes leírható, mint az (<span class="emphasis"><em>X</em></span><sub>0 </sub>+ <span class="emphasis"><em>λU</em></span>, <span class="emphasis"><em>Y</em></span><sub>0 </sub>+ <span class="emphasis"><em>λV</em></span>, <span class="emphasis"><em>Z</em></span><sub>0 </sub>+ <span class="emphasis"><em>λW</em></span>) pontok halmaza, ahol <span class="emphasis"><em>λ </em></span>a +∞ és –∞ között változik. Ezen egyenes egy <span class="emphasis"><em>P<sub>λ</sub></em></span> pontjának képsíkra vett vetületét az:</p><p><span class="inlinemediaobject"><img src="math/mi-24-0002.gif" alt="A képalkotás geometriája a sötétkamrában"/></span></p><p>adja. Amint <span class="emphasis"><em>λ</em></span> → ∞ vagy <span class="emphasis"><em>λ</em></span> → –∞ ez a pont a <span class="emphasis"><em>p</em></span><sub>∞</sub> = (<span class="emphasis"><em>fU/W</em></span>, <span class="emphasis"><em>fV/W</em></span>) lesz, ha W ≠ 0. A <span class="emphasis"><em>p</em></span><sub>∞</sub> pontot az (<span class="emphasis"><em>U</em></span>, <span class="emphasis"><em>V</em></span>, <span class="emphasis"><em>W</em></span>) irányú egyenesek családjával kapcsolatos <span class="strong"><strong>távlatpont</strong></span>nak (<span class="strong"><strong>vanishing point</strong></span>) nevezzük. Az azonos irányú egyenesek távlatpontja azonos.</p><p>Ha a tárgy a kamrától vett távolságához képest viszonylag lapos, a perspektivikus vetítést a <span class="strong"><strong>skálázott ortografikus vetítés</strong></span>sel (<span class="strong"><strong>scaled orthographic projection</strong></span>) közelíthetjük. Ennek elve a következő. Ha a tárgy pontjainak <span class="emphasis"><em>Z</em></span> mélysége egy bizonyos <span class="emphasis"><em>Z</em></span><sub>0 </sub> ± ∆<span class="emphasis"><em>Z</em></span> tartományban változik, és ∆<span class="emphasis"><em>Z = Z</em></span><sub>0</sub>, akkor a perspektíva <span class="emphasis"><em>f/Z</em></span> skála tényezőjét az <span class="emphasis"><em>s = f/Z</em></span><sub>0</sub> állandóval lehet közelíteni. Az (<span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Y</em></span>, <span class="emphasis"><em>Z</em></span>) jelenet koordinátákból a képsíkra történő vetítés egyenletei az <span class="emphasis"><em>x</em></span> = <span class="emphasis"><em>sX</em></span> és az <span class="emphasis"><em>y = sY</em></span> lesznek. Jegyezzük meg, hogy a skálázott függőleges síkú vetítés egy közelítés, amely a jelenet azon részeire érvényes, amelyeknek a saját mélységváltozásuk elenyésző. A globális tulajdonságok tanulmányozására ezt a módszert nem szabad használni. Hogy az óvatosság nem árt, erre egy példa: függőleges síkú vetítésben a párhuzamos vonalak párhuzamosak maradnak ahelyett, hogy egy távlatpontban összefutnának.</p></div><div class="section" title="Lencserendszerek"><div class="titlepage"><div><div><h2 class="title"><a id="id781026"/>Lencserendszerek</h2></div></div></div><p>A gerincesek szeme és a modern kamerák is lencséket használnak. A lencse a sötétkamra nyílásánál nagyobb, így több fényt enged át. Ennek az az ára, hogy egyidejűleg a jelenet minden részének az élességét nem lehet biztosítani. A jelenet egy <span class="emphasis"><em>Z</em></span> távolságban lévő pontjának a képe a lencsétől egy rögzített <span class="emphasis"><em>Z'</em></span> távolságban keletkezik, és a <span class="emphasis"><em>Z</em></span> és a <span class="emphasis"><em>Z'</em></span> között az:</p><p><span class="inlinemediaobject"><img src="math/mi-24-0003.gif" alt="Lencserendszerek"/></span>	</p><p>reláció áll fenn, ahol <span class="emphasis"><em>f</em></span> a lencse fókusztávolsága. Ha a lencse optikai középpontja és a képsík közötti távolságot valamilyen <span class="emphasis"><em>Z'</em></span><sub>0</sub>-nak választjuk, a jelenet azon tárgyai, amelyek a <span class="emphasis"><em>Z</em></span><sub>0</sub> körül egy adott mélységtartományban fekszenek, ahol <span class="emphasis"><em>Z</em></span><sub>0</sub> a megfelelő tárgytávolság, nagyjából élesen fognak látszani. A jelenet ezen mélységi tartományát <span class="strong"><strong>mélységélesség</strong></span>nek (<span class="strong"><strong>depth of field</strong></span>) nevezzük.</p><p>Jegyezzük meg, hogy mivel a <span class="emphasis"><em>Z</em></span> tárgytávolság általában sokkal nagyobb, mint a <span class="emphasis"><em>Z' </em></span>képtávolság vagy mint az <span class="emphasis"><em>f</em></span>, sokszor jogos az alábbi közelítés:</p><p><span class="inlinemediaobject"><img src="math/mi-24-0004.gif" alt="Lencserendszerek"/></span>	</p><p>Azaz a képtávolság <span class="emphasis"><em>Z' </em></span>≈ <span class="emphasis"><em>f</em></span>. A sötétkamra vetítésegyenleteit tehát egy lencse által létrehozott kép geometriájának leírásához is használhatjuk.</p><p>Ahhoz, hogy a különböző <span class="emphasis"><em>Z</em></span> távolságban lévő tárgyakat élesen lássuk, az emberi szem lencséje (lásd 24.2. ábra) változtatja az alakját, a kamera lencséje pedig <span class="emphasis"><em>Z</em></span> irányban elmozdul.</p><div class="figure"><a id="id781135"/><p class="title"><strong>24.2. ábra - Az emberi szem vízszintes keresztmetszete</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/24-02.png" alt="Az emberi szem vízszintes keresztmetszete"/></div></div></div></div><div class="section" title="A fény: a képalkotás fotometriája"><div class="titlepage"><div><div><h2 class="title"><a id="id781145"/>A fény: a képalkotás fotometriája</h2></div></div></div><p>A fény nélkülözhetetlen a látáshoz: nélküle minden kép egyformán sötét lenne, függetlenül attól, mennyire érdekes a jelenet. A <span class="strong"><strong>fotometria</strong></span> (<span class="strong"><strong>photometry</strong></span>) a fény tanulmányozása. Saját céljainkra azt fogjuk modellezni, hogy a jelenet fénye hogyan képződik le az időben a képsík fényintenzitására, amit <span class="emphasis"><em>I</em></span>(<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>)-nal<sup>[<a id="id781171" href="#ftn.id781171" class="footnote">270</a>]</sup> jelölünk. A látás rendszere ezt a modellt visszafelé alkalmazza, a képek intenzitásából kiindulva a világ tulajdonságai felé. A 24.3. ábra egy asztalon lévő tűzőgép digitalizált képét és a tűzőgép egy 12 × 12 képpontból álló részletét mutatja. Egy számítógépes program, amely értelmezni próbálja a képet, egy ilyen intenzitásmátrixból indulna ki.</p><div class="figure"><a id="id781195"/><p class="title"><strong>24.3. ábra - (a) Egy asztalon lévő tűzőgép fényképe. (b) Az (a) egy 12 × 12 képpontból álló, nagyított részlete. (c) A részletnek megfelelő képfényességértékek egy 0-tól 255-ig tartó skálán.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/24-03.png" alt="(a) Egy asztalon lévő tűzőgép fényképe. (b) Az (a) egy 12 × 12 képpontból álló, nagyított részlete. (c) A részletnek megfelelő képfényességértékek egy 0-tól 255-ig tartó skálán."/></div></div></div><p>A kép egy képpontjának a fényessége arányos a jelenet képpontba vetített felületeleme által a kamera felé irányított fény mennyiségével. Ez viszont függ a felületelem fényvisszaverő tulajdonságaitól és a fényforrások elhelyezésétől, valamint eloszlásától a jelenetben. Egy képpont fényességébe a jelenet egyéb részeinek fényvisszaverő tulajdonságai is beleszólnak, hiszen a jelenet más felületei indirekt fényforrásként szolgálnak, mivel a rájuk eső fényt az adott felületelem felé verik vissza.</p><p>Kétféle visszaverődést modellezhetünk. A <span class="strong"><strong>tükröző visszaverődés</strong></span> (<span class="strong"><strong>specular reflection</strong></span>) azt jelenti, hogy a fény a tárgy külső felületéről verődik vissza, és teljesíti azt a kényszert, miszerint a beesés és a visszaverődés szöge megegyezik. Ilyen a tökéletes tükör viselkedése. A <span class="strong"><strong>diffúz visszaverődés</strong></span> (<span class="strong"><strong>diffuse reflection</strong></span>) azt jelenti, hogy a fény a tárgy felszínén belülre hatol, a tárgy a fényt elnyeli és ismételten kisugározza. A tökéletesen <span class="strong"><strong>diffúz</strong></span> (avagy <span class="strong"><strong>Lambert-féle</strong></span>) <span class="strong"><strong>felület</strong></span> minden irányban azonos intenzitással szórja a fényt. Az intenzitás egyedül a fényforrástól érkező fény beesési szögétől függ: a felületre pontosan merőleges fényforrás esetén lesz a legnagyobb intenzitású a reflexió, míg majdnem párhuzamos fényforrás esetén a legkisebb. E két véglet között a viszszaverődést Lambert koszinusztörvénye írja le:</p><p><code class="code"><em><span class="remark">I</span></em> = <em><span class="remark">kI</span></em><sub>0</sub>cos<em><span class="remark">θ</span></em></code></p><p>ahol <span class="emphasis"><em>s</em></span> a fényforrás intenzitása,  a felület normálisa és a fény beesési iránya közötti szög, <span class="emphasis"><em>k</em></span> a visszaverődési tényező értéke, amely a felület visszaverési képességeitől függ, és 0-tól (tökéletesen fekete felület) 1-ig (tökéletesen fehér felület) változik.</p><p>A valódi életben a felületek kevert, diffúz és tükrös tulajdonságúak. Számítógépes modellezésük a számítógépes grafika fő alkalmazási területe. A valósághű képek előállítása általában fénysugár-követési eljárással történik, amely szimulálja azt a fizikai folyamatot, ahogy a fénysugár a forrásnál keletkezik, és a tárgyakról többszörösen visszaverődik.</p></div><div class="section" title="Színek: a képalkotás spektrális fotometriája"><div class="titlepage"><div><div><h2 class="title"><a id="id782342"/>Színek: a képalkotás spektrális fotometriája</h2></div></div></div><p>A 24.3. ábrán egy fekete-fehér képet mutattunk, nagyban figyelmen kívül hagyva azt a tényt, hogy a látható fény a hullámhosszak egész tartományát öleli át – a 400 nm-től kezdve a spektrum ibolyaszínű végénél, egészen a 700 nm-ig a vörös színű végénél. Bizonyos fény csak egyetlen hullámhosszból áll, amely a szivárvány egy színének felel meg. De más fények különböző hullámhosszok keverékei. Azt jelenti ez, hogy az <span class="emphasis"><em>I</em></span>(<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>) mértékére egyetlen szám helyett az értékek egy keveréke kell? Ha a fény fizikáját pontosan akarnánk reprezentálni, akkor bizony igen. De ha csak utánozni akarjuk az emberek (és más gerincesek) fényérzékelését, akkor köthetünk kompromisszumokat. Kísérletek mutatják (egészen 1801-től, Thomas Youngtól), hogy hullámhosszak bármilyen komplex keverékét is előállíthatjuk mindössze három szín keverésével. Azaz, ha van egy fénygenerátor, amely képes lineárisan kombinálni három hullámhosszt (tipikusan a vörös [700 nm], a zöld [546 nm] és a kék [436 nm] színeket választjuk), akkor az egyes színeket erősítő, másokat gyengítő gombok csavargatásával <span class="emphasis"><em>bármilyen</em></span> hullámhossz-kombináció beállítható, legalábbis az emberi érzékelés szempontjából. Ez a kísérleti tény azt jelenti, hogy a képek egy olyan vektorral reprezentálhatók, amely képpontokként csak három intenzitásértéket tárol: minden elsődleges hullámhosszra egyet. A gyakorlatban mindegyiket egy bájttal ábrázolva a kép igen jó minőségű reprodukcióját kapjuk. A színek ezen háromszínű észlelése azzal a ténnyel van összefüggésben, hogy háromféle csap található a retinában, amelyek érzékelési maximuma 650, 530 és 430 nm, de az összefüggés pontos részletei az egy az egyben történő leképezésnél bonyolultabbak.</p></div><div class="footnotes"><br/><hr/><div class="footnote"><p class="footnote text"><sup>[<a id="ftn.id781171" href="#id781171" class="para">270</a>] </sup> Ha az időbeli változást is vizsgáljuk, akkor az <span class="emphasis"><em>I</em></span>(<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>,<span class="emphasis"><em> t</em></span>)<span class="emphasis"><em> </em></span>jelölést alkalmazzuk.</p></div></div></div></body></html>
