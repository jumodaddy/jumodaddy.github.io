<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/></head><body><div class="section" title="Heurisztikus függvények"><div class="titlepage"><div><div><h1 class="title"><a id="id553580"/>Heurisztikus függvények</h1></div></div></div><p>Ebben a részben a 8-as kirakójátékhoz keresünk heurisztikus függvényeket, hogy rávilágítsunk a heurisztikus függvények általános természetére.</p><p>A 8-as kirakójáték a legrégebbi heurisztikus keresési feladatok egyike. Mint azt a 3.2. alfejezetben láttuk, a játék lényege, hogy a számozott lapkákat vízszintesen és függőlegesen az üres helyre tolva a kiindulóállásból a célállásba jussunk (lásd 4.7. ábra).</p><p>Egy átlagos megoldás véletlen módon generált 8-as kirakójáték példányok esetén kb. 22 lépésből áll. Az elágazási tényező nagyjából 3 (amikor az üres lapka középen van, akkor négy, amikor a sarokban van, akkor kettő, és amikor valamelyik szélső középső pozícióban van, akkor pedig három mozgatás lehetséges). Ebből adódóan egy 22 mélységig menő kimerítő keresés közelítőleg 3<sup>22</sup> ≈ 3,1 × 10<sup>10</sup> állapotot vizsgálna meg. Az ismétlődő állapotok nyilvántartásával ezt a számot 170 000-ed részére le lehet csökkenteni, mert csak 9!/2 = 181 440 különböző elérhető elrendezés létezik (lásd 3.4. feladat). Ez egy kezelhető szám, azonban ugyanez a szám a 15-ös kirakójáték esetén már durván 10<sup>13</sup>, így a következő teendő egy jó heurisztika megkeresése. Amennyiben a legrövidebb megoldásokat akarjuk megtalálni A<sup>*</sup> bevetésével, olyan heurisztikus függvényre van szükségünk, ami soha sem becsüli túl a célállapot eléréséhez szükséges lépések számát. Az ilyen heurisztikák keresésének a 15-ös kirakójáték esetén nagy a múltja. Íme két lehetséges függvény:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="List Paragraph"><span class="emphasis"><em>h</em></span><sub>1</sub><span class="emphasis"><em> = </em></span>a rossz helyen lévő lapkák száma. A 4.7. ábrán a 8 lapkából egyik sincs a helyén, így a kiinduló állapotban <span class="emphasis"><em>h</em></span><sub>1</sub> = 8 lenne. <span class="emphasis"><em>h</em></span><sub>1</sub> elfogadható heurisztikus függvény, mivel nyilvánvaló, hogy minden rossz helyen lévő lapkát legalább egyszer mozgatni kell.</p></li><li class="listitem"><p class="List Paragraph"><span class="emphasis"><em>h</em></span><sub>2</sub> = a lapkáknak a saját célhelyeiktől mért távolságaik összege. Mivel a lapkákat nem lehet átlók mentén mozgatni, az általunk kiszámított távolság a vízszintes és függőleges távolságok összege lesz. Ezt néha <span class="strong"><strong>háztömb</strong></span>- (<span class="strong"><strong>city block distance</strong></span>) vagy <span class="strong"><strong>Manhattan-távolság</strong></span>nak (<span class="strong"><strong>Manhattan distance</strong></span>) is szokás nevezni. <span class="emphasis"><em>h</em></span><sub>2</sub> szintén elfogadható heurisztikus függvény, mivel minden egyes mozgatással egy lapkát csak egy lépéssel lehet közelebb vinni a célhoz. A kiinduló állapotban az 1–8 lapkákra számított Manhattan-távolság:</p></li></ul></div><p><code class="code"><em><span class="remark">h</span></em><sub>2</sub> = 3 + 1 + 2 + 2 + 2 + 3 + 3 + 2 = 18</code></p><p>Ahogy reméltük, egyik sem becsüli túl a megoldás igazi költségét, ami 26.</p><div class="figure"><a id="id553679"/><p class="title"><strong>4.7. ábra - A 8-as kirakójáték egy tipikus feladata. A megoldás 26 lépés hosszú.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/04-07.png" alt="A 8-as kirakójáték egy tipikus feladata. A megoldás 26 lépés hosszú."/></div></div></div><div class="section" title="A heurisztikus függvény pontosságának hatása a megoldás hatékonyságára"><div class="titlepage"><div><div><h2 class="title"><a id="id553688"/>A heurisztikus függvény pontosságának hatása a megoldás hatékonyságára</h2></div></div></div><p>A heurisztikus függvény minősítésének egyik lehetséges módja a <span class="emphasis"><em>b</em></span><sup>* </sup><span class="strong"><strong>effektív elágazási tényező</strong></span> (<span class="strong"><strong>effective branching factor</strong></span>) megadása. Amennyiben az A<sup>*</sup> algoritmus által kifejtett összes csomópont száma egy adott problémára <span class="emphasis"><em>N</em></span>, és a megoldás mélysége <span class="emphasis"><em>d</em></span>, akkor <span class="emphasis"><em>b</em></span><sup>*</sup> annak a <span class="emphasis"><em>d</em></span> mélységű kiegyensúlyozott fának az elágazási tényezőjével egyezik meg, amely <span class="emphasis"><em>N </em></span>+ 1 csomópontot tartalmazna. Ebből adódóan:</p><p><code class="code"><em><span class="remark">N </span></em>+ 1 = 1 + <em><span class="remark">b</span></em><sup>*</sup> + (<em><span class="remark">b</span></em><sup>*</sup>)<sup>2</sup> + … + (<em><span class="remark">b</span></em><sup>*</sup>)<sup>d</sup></code></p><p>Például ha az A<sup>*</sup> algoritmus egy 5 mélységben fekvő megoldást 52 csomópont kifejtésével talál meg, akkor az effektív elágazási tényező 1,92. Az effektív elágazási tényező a problémaesetek függvényében változhat, megfelelően nehéz problémák esetén azonban általában nagyjából állandó. Így a <span class="emphasis"><em>b</em></span><sup>*</sup> kisszámú problémahalmazon végzett kísérleti mérése jó fogódzót adhat a heurisztikus függvény általánosságban vett használhatóságáról. Egy jól megtervezett heurisztikus függvény effektív elágazási tényezője 1 körüli érték, ami lehetővé teszi felettébb nagy problémák megoldását is. </p><p>A <span class="emphasis"><em>h</em></span><sub>1</sub> és a <span class="emphasis"><em>h</em></span><sub>2</sub> heurisztikus függvények teszteléséhez véletlenszerűen generáltunk 1200 problémapéldányt, 2–24 mélységű megoldással (100-100 példányt minden páros szám esetére), és megoldottuk azokat a <span class="emphasis"><em>h</em></span><sub>1</sub> és a <span class="emphasis"><em>h</em></span><sub>2</sub> heurisztikus függvényeket alkalmazva az A<sup>*</sup> fakereső algoritmussal, illetve a nem informált iteratívan mélyülő keresési algoritmussal is. A 4.8. ábra minden egyes stratégiára megadja az átlagosan kifejtett csomópontok számát és az effektív elágazási tényezőt. Az eredmények azt mutatják, hogy <span class="emphasis"><em>h</em></span><sub>2</sub><span class="emphasis"><em> </em></span>jobb, mint <span class="emphasis"><em>h</em></span><sub>1</sub>, és hogy a nem informált keresés mindkettőnél sokkal rosszabb. A 14 hosszúságú megoldások esetén az A<sup>*</sup> <span class="emphasis"><em>h</em></span><sub>2</sub>-vel 30 000-szer hatékonyabb, mint a nem informált iteratívan mélyülő keresés.</p><div class="figure"><a id="id553832"/><p class="title"><strong>4.8. ábra - A keresési költség és az effektív elágazási tényező összehasonlítása <code class="code">ITERATÍVAN-MÉLYÜLŐ-KERESÉS</code> és A* esetén <span class="emphasis"><em>h</em></span><sub>1</sub> és <span class="emphasis"><em>h</em></span><sub>2</sub> használatával. Az adatokat különböző hosszúságú megoldásokra a 8-as kirakójáték 100 egyedét megoldva átlagolva kaptuk.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/04-08.png" alt="A keresési költség és az effektív elágazási tényező összehasonlítása ITERATÍVAN-MÉLYÜLŐ-KERESÉS és A* esetén h1 és h2 használatával. Az adatokat különböző hosszúságú megoldásokra a 8-as kirakójáték 100 egyedét megoldva átlagolva kaptuk."/></div></div></div><a id="ID_150_oldal"/><p>Feltehetjük magunknak a kérdést, hogy vajon a <span class="emphasis"><em>h</em></span><sub>2</sub><span class="emphasis"><em> </em></span>mindig jobb-e, mint a <span class="emphasis"><em>h</em></span><sub>1</sub>? A válasz: igen. A két heurisztikus függvény definíciójából jól látszik, hogy minden <span class="emphasis"><em>n</em></span> csomópontra <span class="emphasis"><em>h</em></span><sub>2</sub>(<span class="emphasis"><em>n</em></span>) ≥ <span class="emphasis"><em>h</em></span><sub>1</sub>(<span class="emphasis"><em>n</em></span>). Azt mondjuk, hogy <span class="emphasis"><em>h</em></span><sub>2</sub><span class="emphasis"><em> </em></span><span class="strong"><strong>dominál</strong></span>ja <span class="emphasis"><em>h</em></span><sub>1</sub>-et. A domináció közvetlenül átvihető a hatékonyságra: a <span class="emphasis"><em>h</em></span><sub>2</sub>-t használó A<sup>*</sup> algoritmus kevesebb csomópontot fog kifejteni, mint a <span class="emphasis"><em>h</em></span><sub>1</sub>-et használó (talán csak az <span class="emphasis"><em>f</em></span>(<span class="emphasis"><em>n</em></span>) = <span class="emphasis"><em>C</em></span><sup>*</sup> tulajdonságú néhány csomópontot kivéve). Ezt az alábbi egyszerű gondolatmenettel mutathatjuk meg. Idézzük fel a <a class="xref" href="ch04.md#ID_142_oldal">„A* keresés: a teljes becsült útköltség minimalizálása”</a> részben tett észrevételünket, miszerint minden csomópont kifejtésre kerül, amelyre <span class="emphasis"><em>f</em></span>(<span class="emphasis"><em>n</em></span>)<span class="emphasis"><em> </em></span>&lt;<span class="emphasis"><em> C</em></span><sup>*</sup>. Ezzel egyenértékű az az állítás, mely szerint minden csomópont kifejtésre kerül, amelyre <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>)<span class="emphasis"><em> </em></span>&lt;<span class="emphasis"><em> C</em></span><sup>*</sup>– <span class="emphasis"><em>g</em></span>(<span class="emphasis"><em>n</em></span>)<span class="emphasis"><em>. </em></span>Mivel azonban <span class="emphasis"><em>h</em></span><sub>2</sub> minden csomópontra legalább akkora, mint <span class="emphasis"><em>h</em></span><sub>1</sub>, így minden olyan csomópontot, amit kifejt a <span class="emphasis"><em>h</em></span><sub>2</sub>-t alkalmazó A<sup>*</sup> algoritmus, kifejti a <span class="emphasis"><em>h</em></span><sub>1</sub>-et alkalmazó A<sup>*</sup> algoritmus is, de <span class="emphasis"><em>h</em></span><sub>1</sub> alkalmazása más csomópontok kifejtését is okozhatja. Ebből adódóan mindig jobb nagyobb értékeket adó heurisztikus függvényeket alkalmazni, amíg nem becsüljük túl a valódi költséget, és a heurisztika számítási ideje nem túlságosan nagy.</p></div><div class="section" title="Elfogadható heurisztikus függvények kitalálása"><div class="titlepage"><div><div><h2 class="title"><a id="id554034"/>Elfogadható heurisztikus függvények kitalálása</h2></div></div></div><p>Láttuk, hogy mind <span class="emphasis"><em>h</em></span><sub>1</sub> (a nem a helyükön lévő lapkák száma), mind pedig <span class="emphasis"><em>h</em></span><sub>2</sub> (Manhattan-távolság) egész jó heurisztikus függvények a 8-as kirakójáték problémájához, és hogy <span class="emphasis"><em>h</em></span><sub>2</sub><span class="emphasis"><em> </em></span>jobbnak bizonyult. De hogyan is állt elő a <span class="emphasis"><em>h</em></span><sub>2</sub>? Egy számítógép számára vajon lehetséges-e mechanikusan megalkotni ilyen heurisztikus függvényeket?</p><p>A <span class="emphasis"><em>h</em></span><sub>1</sub> és <span class="emphasis"><em>h</em></span><sub>2</sub> a 8-as kirakójátékban a fennmaradó út hosszát becsülik, azonban a játék <span class="emphasis"><em>egyszerűsített</em></span> változatánál a tökéletesen pontos úthossz értékét adják meg. Ha a játék szabályait úgy módosítanánk, hogy egy lapka bárhová áthelyezhető legyen, nemcsak a szomszédos mezőkre, akkor <span class="emphasis"><em>h</em></span><sub>1</sub> pontosan megadná a legrövidebb megoldáshoz vezető lépések számát. Hasonlóan, ha egy lapkát bármelyik szomszédos mezőre átmozgathatnánk, még akkor is, ha az adott mezőn már van egy másik lapka, akkor <span class="emphasis"><em>h</em></span><sub>2</sub> megadná a legrövidebb megoldás pontos lépésszámát. </p><div class="important" title="Fontos" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Fontos</h3><p>Az olyan problémát, amelyben az operátorokra kevesebb megkötést teszünk, mint az eredeti problémában, <span class="strong"><strong>relaxált problémá</strong></span>nak (<span class="strong"><strong>relaxed problem</strong></span>) nevezzük. <span class="emphasis"><em>A relaxált probléma optimális megoldásának költsége egy elfogadható heurisztika az eredeti problémára. </em></span>A heurisztika elfogadható, mert az eredeti probléma optimális megoldása definíciószerűen megoldása a relaxált problémának is, és így legalább olyan költséges, mint a relaxált probléma optimális megoldása. Mivel a számított heurisztika a relaxált problémára egy pontos költség, teljesítenie kell a háromszög egyenlőtlenséget, és ebből kifolyólag <span class="strong"><strong>konzisztens</strong></span> <a class="xref" href="ch04.md#ID_140_oldal">„A* keresés: a teljes becsült útköltség minimalizálása”</a> részben.</p></div><p>Amennyiben a probléma megfogalmazása formális nyelven adott, akkor a relaxált problémákat automatikusan is elő lehet állítani.<sup>[<a id="id554124" href="#ftn.id554124" class="footnote">38</a>]</sup> Például ha a 8-as kirakójáték operátorait az alábbi módon írjuk le:</p><p>Egy lapka az <span class="emphasis"><em>A</em></span> mezőről a <span class="emphasis"><em>B</em></span> mezőre mozgatható,</p><p>	ha <span class="emphasis"><em>A</em></span> és <span class="emphasis"><em>B</em></span> szomszédosak, és a <span class="emphasis"><em>B</em></span> mező üres</p><p>egy vagy több feltétel törlésével három relaxált problémát hozhatunk létre:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="List Paragraph">Egy lapka az <span class="emphasis"><em>A</em></span> mezőről a <span class="emphasis"><em>B</em></span> mezőre mozgatható, ha <span class="emphasis"><em>A</em></span> és <span class="emphasis"><em>B</em></span> szomszédosak.</p></li><li class="listitem"><p class="List Paragraph">Egy lapka az <span class="emphasis"><em>A</em></span> mezőről a <span class="emphasis"><em>B</em></span> mezőre mozgatható, ha a <span class="emphasis"><em>B</em></span> mező üres.</p></li><li class="listitem"><p class="List Paragraph">Egy lapka az <span class="emphasis"><em>A</em></span> mezőről a <span class="emphasis"><em>B</em></span> mezőre mozgatható.</p></li></ol></div><p>Az (a)-ból a <span class="emphasis"><em>h</em></span><sub>2</sub> (Manhattan-távolság) vezethető le. A magyarázat az, hogy <span class="emphasis"><em>h</em></span><sub>2</sub> helyes eredményt adna, ha minden lapkát sorra elmozgatnánk a saját célhelyére. A (b)-ből származtatott heurisztikával a 4.9. feladatban foglalkozunk. A (c)-ből a <span class="emphasis"><em>h</em></span><sub>1</sub> (a nem a helyükön lévő lapkák száma) vezethető le, mert ez lenne a helyes eredmény, ha a lapkákat a célpozíciójukba egy lépésben el lehetne mozgatni. Vegyük észre, hogy lényeges, hogy e módszer által generált relaxált problémákat lényegében keresés nélkül meg lehet oldani, mert a relaxált szabályok a probléma 8 független részproblémává történő dekompozícióját teszik lehetővé. Ha a relaxált problémát nehéz megoldani, akkor a kapcsolatos heurisztikus értékek számítása drágának fog bizonyulni.<sup>[<a id="id554230" href="#ftn.id554230" class="footnote">39</a>]</sup></p><p>Az <code class="code">ABSOLVER</code> nevű program a „relaxált probléma” módszer és más egyéb módszer alkalmazásával (Prieditis, 1993), képes a probléma definíciójából automatikusan heurisztikus függvényeket generálni. Az <code class="code">ABSOLVER</code> egy, az eddigieknél jobb heurisztikus függvényt hozott létre a 8-as kirakójáték megoldására, és ez a program találta meg az első használható heurisztikus függvényt a híres Rubik-kocka kirakásához.</p><p>Az új heurisztikus függvények előállításának egyik problémája, hogy felettébb nehéz felismerni a „nyilvánvalóan legjobb” heurisztikus függvényt. Ha egy problémához adottak a <span class="emphasis"><em>h</em></span><sub>1</sub>,<span class="emphasis"><em> </em></span>...,<span class="emphasis"><em> h<sub>m</sub></em></span> elfogadható heurisztikus függvények, és egyik sem dominálja a többit, melyiket kell választanunk? Mint az majd kiderül, nem kell választanunk. Az alábbi formulával a lehető legjobbat kaphatjuk meg:</p><p><code class="code"><em><span class="remark">h</span></em>(<em><span class="remark">n</span></em>) = max{<em><span class="remark">h</span></em><sub>1</sub>(<em><span class="remark">n</span></em>), ..., <em><span class="remark">h<sub>m</sub></span></em>(<em><span class="remark">n</span></em>)}</code></p><p>Az így megkonstruált összetett heurisztikus függvény mindig azt a függvényt használja, amelyik az adott csomópontra a legpontosabb. Mivel az alkotóelemként felhasznált heurisztikus függvények mind elfogadhatók, ezért <span class="emphasis"><em>h</em></span> is elfogadható. Ugyancsak könnyű bizonyítani, hogy <span class="emphasis"><em>h</em></span> konzisztens. Továbbá <span class="emphasis"><em>h</em></span> dominálja az összes, benne alkotóelemként felhasznált heurisztikus függvényt.</p><p>Elfogadható heurisztikus függvényeket származtathatunk az adott probléma <span class="strong"><strong>részproblémá</strong></span>jának (<span class="strong"><strong>subproblem</strong></span>) megoldási költségéből is. A 4.9. ábra például a 4.7. ábrán látható 8-as kirakójáték egy részproblémáját mutatja. A részprobléma lényege az 1, 2, 3 és 4 lapkák helyükre való mozgatása. Világos, hogy e részprobléma optimális megoldásának költsége a teljes probléma megoldásának költségét alulról korlátozza. Bizonyos esetekben ez a függvény a Manhattan-távolságnál sokkal pontosabb.</p><p>A <span class="strong"><strong>mintaadatbázis</strong></span>ok (<span class="strong"><strong>pattern database</strong></span>s) hátterében húzódó ötlet az, hogy tároljuk el az egyes részproblémaesetekhez tartozó pontos megoldási költségeket – ebben az esetben a négy lapka és az üres hely minden konfigurációjához (jegyezzük meg, hogy a másik négy lapka helye a részprobléma megoldása szempontjából közömbös, mozgásaik azonban a költségbe bele fognak számítani). A probléma teljes állapotához tartozó elfogadható <span class="emphasis"><em>h<sub>AB</sub></em></span> heurisztikus függvényt ezek után keresés közben úgy számítjuk ki, hogy a megfelelő részprobléma-konfigurációt az adatbázisból kikeressük. Maga az adatbázis úgy lett megtervezve, hogy a célállapottól visszafelé keresve minden új minta költségét feljegyeztük. Ennek a keresésnek a költsége a sok egymás után jövő problémaesetre kivetítve amortizálódik.</p><div class="figure"><a id="id554338"/><p class="title"><strong>4.9. ábra - A 4.7. ábrán látható 8-as kirakójáték eset egy részproblémája. A feladat az, hogy 1, 2, 3 és 4 lapkát a helyes pozíciókba juttassuk el, nem törődve azzal, hogy a többi lapkával mi fog történni.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/04-09.png" alt="A 4.7. ábrán látható 8-as kirakójáték eset egy részproblémája. A feladat az, hogy 1, 2, 3 és 4 lapkát a helyes pozíciókba juttassuk el, nem törődve azzal, hogy a többi lapkával mi fog történni."/></div></div></div><p>Az 1-2-3-4 lapka megválasztása nyilván tetszőleges, az adatbázist az 5-6-7-8 és a 2-4-6-8 stb. lapkákra is meg tudnánk konstruálni. Minden adatbázis egy elfogadható heurisztikát szolgáltat, és ahogy korábban elmagyaráztuk, ezen heurisztikákat kombinálni lehet, maximális értékükkel számolva. Egy ilyen típusú kombinált heurisztika a Manhattan-távolságnál sokkal pontosabb. A 15-ös kirakójáték véletlenszerűen generált egyedeire a kifejtett csomópontok számát egy 1000-es tényezővel lehet csökkenteni.</p><p>El lehetne tűnődni azon, hogy az 1-2-3-4 és az 5-6-7-8 adatbázisokból kinyert heurisztikus függvényeket nem lehetne-e <span class="emphasis"><em>összeadni,</em></span> mivel úgy tűnik, a két részproblémában nincs fedés. A válasz nemleges, mert egy adott állapotban az 1-2-3-4 és az 5-6-7-8 részproblémák megoldásai majdnem biztosan osztoznak közös lépéseken – igen valószínűtlen, hogy az 1-2-3-4 lapkákat a helyükre el lehet mozdítani, anélkül hogy az 5-6-7-8-hoz ne nyúlnánk hozzá, és <span class="emphasis"><em>fordítva</em></span>. És mi lenne, ha ezeket a lépéseket nem is számolnák be? Azaz nem az 1-2-3-4 részprobléma teljes költségével számolnánk, hanem csak az 1-2-3-4 lapka lépéseit vennénk figyelembe. Könnyű ilyenkor rájönni, hogy a két költség összege még mindig a teljes probléma megoldási költségének egy alsó korlátja. Ez a <span class="strong"><strong>diszjunkt mintaadatbázis</strong></span> (<span class="strong"><strong>disjoint pattern database</strong></span>) hátterében húzódó ötlet. Az ilyen adatbázisok használatával lehetségessé válik a 15-ös kirakójátékot milliszekundumok alatt megoldani, a Manhattan-távolsághoz képest a generált csomópontok száma egy 10 000-es tényezővel kisebb. A 24-es kirakójáték esetén kb. egymilliós gyorsítást lehet elérni.</p><p>A diszjunkt mintaadatbázisok jól működnek a csúszólapka-játékok esetén, mert a problémát úgy lehet felbontani, hogy egy-egy lépés csak egy részproblémára van hatással, hiszen egyszerre csak egy lapkát mozgatunk. A Rubik-kocka problémára ilyen bontást elvégezni nem lehet, mert minden mozgás 8, 9 vagy 26 kockát érint. Nem tudjuk egyelőre, hogy az ilyen problémák számára a diszjunkt mintaadatbázisokat hogyan lehetne definiálni.</p></div><div class="section" title="A heurisztikus függvény tanulása tapasztalatból"><div class="titlepage"><div><div><h2 class="title"><a id="id554371"/>A heurisztikus függvény tanulása tapasztalatból</h2></div></div></div><p>A <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>) heurisztikus függvénytől elvárjuk, hogy az <span class="emphasis"><em>n</em></span> csomópontbeli állapottól kezdve becsülje a megoldás költségét. Hogyan lenne képes egy ágens egy ilyen függvény megalkotására? Egy megoldást az előbbi részben adtunk meg – ami nevezetesen egy olyan relaxált problémának a kitalálása, amihez egy optimális megoldást könnyű találni. Egy másik megoldás a tapasztalatból való tanulás. A „tapasztalaton” itt azt értjük, hogy nagyon sok 8-as kirakójátékot kell megoldani. A 8-as játék minden optimális megoldása egy példát jelent, amiből <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>) tanulható. Minden példa egy, a megoldási úton elhelyezkedő állapotból és az onnan számított valós megoldási költségből áll. Ilyen példák alapján <span class="strong"><strong>induktív tanulási algoritmus</strong></span> (<span class="strong"><strong>inductive learning</strong></span>) segítségével egy olyan <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>) függvényt konstruálhatunk, amely (szerencsével) képes megjósolni a megoldás költségét a keresés során felbukkanó más állapotok esetén is. Ennek módszertanát, legyenek ezek neurális hálók, döntési fák vagy más módszerek, a 18. fejezet mutatja be (a 21. fejezetben leírt megerősítéses tanulás szintén alkalmazható).</p><p>Az induktív tanulási módszerek akkor működnek a legjobban, ha nem az állapot nyers leírását, hanem inkább az állapot kiértékeléséhez releváns <span class="strong"><strong>jellemző</strong></span>ket (<span class="strong"><strong>feature</strong></span>) kapják bemenetként. A „nem a helyén lévő lapkák száma” jellemző segítség lehet, ha az aktuális állapotnak a céltól vett távolságát szeretnénk megjósolni. Hívjuk ezt a jellemzőt <span class="emphasis"><em>x</em></span><sub>1</sub>(<span class="emphasis"><em>n</em></span>)-nek. Vehetnénk a 8-as kirakójáték 100 véletlenszerűen generált konfigurációját, és gyűjthetnénk statisztikákat a megoldás aktuális költségéről. Esetleg azt találnánk, hogy ha <span class="emphasis"><em>x</em></span><sub>1</sub>(<span class="emphasis"><em>n</em></span>) értéke 5, akkor a megoldás átlagos költsége 14 és így tovább. Ilyen adatok birtokában <span class="emphasis"><em>x</em></span><sub>1</sub>(<span class="emphasis"><em>n</em></span>) értékéből jósolni lehetne <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>) értékét. Persze több jellemzőt is lehetne használni. Egy másik jellemző, <span class="emphasis"><em>x</em></span><sub>2</sub>(<span class="emphasis"><em>n</em></span>) lehetne például „azon szomszédos lapkapárok száma, melyek a célállapotban is szomszédosak”. Hogyan lehetne <span class="emphasis"><em>x</em></span><sub>1</sub>(<span class="emphasis"><em>n</em></span>)-et és <span class="emphasis"><em>x</em></span><sub>2</sub>(<span class="emphasis"><em>n</em></span>)-et összekombinálni <span class="emphasis"><em>h</em></span>(<span class="emphasis"><em>n</em></span>) jóslása érdekében? Egy szokásos ötlet a lineáris kombináció használata:</p><p><code class="code"><em><span class="remark">h</span></em>(<em><span class="remark">n</span></em>) = <em><span class="remark">c</span></em><sub>1</sub><em><span class="remark">x</span></em><sub>1</sub>(<em><span class="remark">n</span></em>) + <em><span class="remark">c</span></em><sub>2</sub><em><span class="remark">x</span></em><sub>2</sub>(<em><span class="remark">n</span></em>)</code></p><p>A <span class="emphasis"><em>c</em></span><sub>1</sub> és <span class="emphasis"><em>c</em></span><sub>2</sub> konstansokat módosítani lehet, hogy a megoldási költség aktuális adataira legjobban illeszkedjenek. Feltételezhetően <span class="emphasis"><em>c</em></span><sub>1</sub>-nek pozitívnak, <span class="emphasis"><em>c</em></span><sub>2</sub>-nek pedig negatívnak kellene lennie.</p></div><div class="footnotes"><br/><hr/><div class="footnote"><p class="footnote text"><sup>[<a id="ftn.id554124" href="#id554124" class="para">38</a>] </sup> A 8<span class="emphasis"><em>.</em></span> és a 11. fejezetben erre a feladatra alkalmas formális nyelveket írunk le. Manipulálható formális leírásokkal a relaxált problémák konstruálása automatizálható. Egyelőre természetes nyelvet használunk.</p></div><div class="footnote"><p class="footnote text"><sup>[<a id="ftn.id554230" href="#id554230" class="para">39</a>] </sup> Vegyük észre, hogy a tökéletes heurisztikát könnyűszerrel megkaphatnánk, ha megengednénk <span class="emphasis"><em>h</em></span>-nak a teljes szélességi keresés lefuttatását „stikában”. A heurisztikus függvény pontossága és számítási ideje között így kompromisszumot kell kötni.</p></div></div></div></body></html>
