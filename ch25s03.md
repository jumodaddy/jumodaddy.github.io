<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/></head><body><div class="section" title="Érzékelés a robotikában"><div class="titlepage"><div><div><h1 class="title"><a id="id788177"/>Érzékelés a robotikában</h1></div></div></div><p>Az érzékelés az a folyamat, amelynek során a robot a szenzoraiból érkező jeleket környezetének belső reprezentációjára képezi le. Az érzékelés nehéz, mivel általában a szenzorok adatai zajjal terheltek, a környezet csak részlegesen megfigyelhető, nem jósolható viselkedésű és gyakran dinamikus is. Ökölszabály, hogy egy jó belső reprezentációnak három tulajdonsága van: elég információt hordoz ahhoz, hogy a robot a megfelelő döntést meghozhassa; strukturáltsága lehetővé teszi, hogy hatékonyan frissíthető legyen; valamint természetes olyan értelemben, hogy a belső állapotváltozók megfeleltethetők egy-egy valós fizikai világbeli állapotváltozónak.</p><p>A 15. fejezetben megmutattuk, hogy a Kalman-szűrők, a rejtett Markov-modellek és a dinamikus Bayes-hálók alkalmasak egy részlegesen megfigyelhető környezet állapotátmenet- és érzékelő modelljeinek a reprezentálására. Ismertettünk egzakt és közelítő algoritmusokat a belső <span class="strong"><strong>hiedelmi állapot </strong></span>(<span class="strong"><strong>belief state</strong></span>) – a környezet állapotváltozói felett értelmezett a posteriori valószínűség-eloszlás – frissítésére. Erre számos dinamikus Bayes-hálós modellt mutattunk be a 15. fejezetben. Robotikai problémák esetében a modellhez általában megfigyelt változóként a robot saját korábbi cselekvéseit is hozzáveszszük, mint ahogy az a 17.9. ábra hálózatán látható. A 25.5. ábra ennek a fejezetnek a jelöléseit mutatja: <span class="strong"><strong>X</strong></span><sub>t</sub> a környezet állapota (beleértve a robotot is) a <span class="emphasis"><em>t</em></span> időpillanatban; <span class="strong"><strong>Z</strong></span><sub>t</sub> a <span class="emphasis"><em>t</em></span> időpontbeli megfigyelés (az érzékelésből származó adatok), az <span class="emphasis"><em>A<sub>t</sub></em></span> pedig az érzékelést követően végzett cselekvés.</p><p>A <span class="strong"><strong>szűrés</strong></span>i (<span class="strong"><strong>filtering</strong></span>) feladat, vagyis a hiedelmi állapot frissítése alapvetően azonos a 15. fejezetben tárgyaltakkal. A feladat az új hiedelmi állapot, <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub>|<span class="strong"><strong>z</strong></span><sub>1:<span class="emphasis"><em>t+</em></span>1</sub>, <span class="emphasis"><em>a</em></span><sub>1:<span class="emphasis"><em>t</em></span></sub>) kiszámítása a <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub>t</sub>|<span class="strong"><strong>z</strong></span><sub>1:<span class="emphasis"><em>t</em></span></sub>, <span class="emphasis"><em>a</em></span><sub>1:<span class="emphasis"><em>t</em></span>–1</sub>) aktuális hiedelmi állapotból és az új <span class="strong"><strong>z</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub> megfigyelésből. Az alapvető különbség az, hogy (1) explicit feltételekkel élünk mind a döntést, mind a megfigyelést illetően, (2) <span class="emphasis"><em>folytonos</em></span> változókkal kell dolgoznunk <span class="emphasis"><em>diszkrétek</em></span> helyett. Ezért módosítanunk kell a (15.3)-as rekurzív szűrőalgoritmust, integrált használva az összegzés helyett:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0001.gif" alt="Érzékelés a robotikában"/></span></p><p>Az egyenlet azt fejezi ki, hogy az <span class="strong"><strong>X</strong></span> állapotváltozó feletti a posteriori<span class="emphasis"><em> </em></span>eloszlást a <span class="emphasis"><em>t + </em></span>1 időpillanatbani rekurzívan számítjuk az egy időlépéssel korábbi megfelelő becslésből. A számításokhoz felhasználjuk a korábbi cselekvést, <span class="emphasis"><em>a<sub>t</sub></em></span>-t, és az aktuális szenzoros megfigyelést, <span class="strong"><strong>z</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub>-et. Például ha célunk egy futballozó robot fejlesztése, akkor <span class="strong"><strong>X</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub> lehet a labda relatív helyzete a robothoz képest. A posteriori <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub>t</sub>|<span class="strong"><strong>z</strong></span><sub>1:<span class="emphasis"><em>t</em></span></sub>, <span class="emphasis"><em>a</em></span><sub>1:<span class="emphasis"><em>t</em></span>–1</sub>) mindazon állapotok felett értelmezett valószínűség-eloszlás, amelyek megőrzik mindazt, amit a korábbi érzékelő mérésekből és irányításokból tudunk. A (25.1) egyenlet megmondja, hogyan becsüljük rekurzívan ezt a pozíciót, folyamatosan felhasználva az újabb szenzoradatokat (például kameraképek) és a robot mozgásparancsait. A <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub>|<span class="strong"><strong>x</strong></span><sub>t</sub>, <span class="emphasis"><em>a<sub>t</sub></em></span>) valószínűséget <span class="strong"><strong>állapotátmenet-modell</strong></span>nek (<span class="strong"><strong>transition model</strong></span>) vagy más néven <span class="strong"><strong>mozgásmodell</strong></span>nek (<span class="strong"><strong>motion model</strong></span>) hívjuk, míg <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>z</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub>|<span class="strong"><strong>x</strong></span><sub><span class="emphasis"><em>t+</em></span>1</sub>) az <span class="strong"><strong>érzékelő modell</strong></span> (<span class="strong"><strong>sensor model</strong></span>).</p><div class="figure"><a id="id788477"/><p class="title"><strong>25.5. ábra - A robotérzékelés felfogható úgy, mint cselekvések és mérések sorozatának időbeli egymásra hatása, ahogy ezt a dinamikus Bayes-háló is illusztrálja</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-05.png" alt="A robotérzékelés felfogható úgy, mint cselekvések és mérések sorozatának időbeli egymásra hatása, ahogy ezt a dinamikus Bayes-háló is illusztrálja"/></div></div></div><div class="section" title="Helymeghatározás"><div class="titlepage"><div><div><h2 class="title"><a id="id788486"/>Helymeghatározás</h2></div></div></div><p>A <span class="strong"><strong>helymeghatározás</strong></span> (<span class="strong"><strong>localization</strong></span>) jellemző példa a robotérzékelésre. A probléma lényege a dolgok pontos helyzetének meghatározása. A helymeghatározás az egyik legfontosabb érzékelési feladat a robotikában, mivel a fizikai környezettel való sikeres kölcsönhatáshoz feltétlenül szükséges. Például a robotkaroknak tudniuk kell, hol van az a tárgy, amivel dolgozni akarnak. A navigáló robotoknak pedig pontosan ismerniük kell saját helyzetüket, hogy eljuthassanak a céljukhoz.</p><p>A helymeghatározási feladat három, egyre nehezebb problémaként jeletkezik. Ha a tárgy kezdeti pozíciója és iránya (orientációja) ismert, akkor a helymeghatározás tulajdonképpen <span class="strong"><strong>követési feladat</strong></span>ot (<span class="strong"><strong>tracking</strong></span>) jelent, és ez korlátos bizonytalansággal jellemezhető. Ennél nehezebb a <span class="strong"><strong>globális helymeghatározás</strong></span> (<span class="strong"><strong>global localization</strong></span>), amikor is a kezdeti pozíció egyáltalán nem ismert. A globális helymeghatározás követési problémává egyszerűsödik, ha sikerül lokalizálni a kívánt tárgyat, de itt is előfordulhatnak olyan esetek, amikor a robotnak nagyon nagy bizonytalanságokkal kell megbirkóznia. Végezetül lehetünk gonoszak is a robotunkkal, ha elvesszük, „elraboljuk” előle az éppen lokalizálni próbált tárgyat. Ezt <span class="strong"><strong>elrablásos problémá</strong></span>nak (<span class="strong"><strong>kidnapping problem</strong></span>) hívják, és gyakran tesztelik vele a robot lokalizációs algoritmusának robusztusságát extrém körülmények között.</p><div class="figure"><a id="id788534"/><p class="title"><strong>25.6. ábra - (a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a <span class="emphasis"><em>t</em></span>-beli és a <span class="emphasis"><em>t + </em></span>1-beli pozíciót és orientációt a <span class="emphasis"><em>v<sub>t</sub></em></span> ∆<sub>t</sub> és <span class="emphasis"><em>ω<sub>t</sub></em></span> ∆<sub><span class="emphasis"><em>t</em></span> </sub>frissítési értékekkel. Szintén fel van tüntetve egy <span class="emphasis"><em>t</em></span> időpontban megfigyelt referenciapont (tereptárgy) az (<span class="emphasis"><em>x<sub>i</sub></em></span>, <span class="emphasis"><em>y<sub>i</sub></em></span>) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (<span class="emphasis"><em>z</em></span><sub>1</sub>, <span class="emphasis"><em>z</em></span><sub>2</sub>, <span class="emphasis"><em>z</em></span><sub>3</sub>, <span class="emphasis"><em>z</em></span><sub>4</sub>) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-06.png" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></div></div></div><p>Azért, hogy egyszerűvé tegyük a dolgot, feltételezzük, hogy a robotunk lassan mozog sík terepen, és pontos térképe van a környezetéről. (Egy ilyen térkép látható a 25.8. ábrán.) Egy mobil robot helyzetét két derékszögű koordinátájával (<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>) és az irányát jellemző  szöggel írjuk le, ahogy ez a 25.6. (a) ábrán is látható. (Mivel nem foglakoztunk a hozzá tartozó sebességekkel, ez inkább kinematikai, mint dinamikus modell.) Ha ezt a három értéket egy vektorba fogjuk össze, akkor bármely állapot megadható <span class="strong"><strong>X</strong></span><sub>t</sub> = (<span class="emphasis"><em>x<sub>t</sub></em></span>, <span class="emphasis"><em>y<sub>t</sub></em></span>, <span class="emphasis"><em>q<sub>t</sub></em></span>) <sup>⊤</sup> formában.</p><p>Kinematikai közelítésben minden cselekvés felbontható két „pillanatnyi” sebességre: egy <span class="emphasis"><em>v<sub>t</sub></em></span> (transzlációs) sebességre és egy <span class="emphasis"><em>w<sub>t</sub></em></span> (rotációs) szögsebességre. Kis ∆<span class="emphasis"><em>t</em></span> időkre a robot mozgásának egy durva determinisztikus modellje az alábbi alakban adható meg:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0002.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span></p><p>Az <span class="inlinemediaobject"><img src="math/mi-25-0003.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span> jelölés a determinisztikus állapotbecslésre vonatkozik. Természetesen a fizikai robotok valamilyen módon mindig megjósolhatatlanok maradnak. Ezt gyakran modellezik egy <span class="emphasis"><em>f</em></span>(<span class="strong"><strong>X</strong></span><sub>t</sub>, <span class="emphasis"><em>v<sub>t</sub></em></span>, <span class="emphasis"><em>ω<sub>t</sub></em></span>) középértékű, <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>x</sub> kovarianciájú Gauss-eloszlással. (Lásd még az A) függelék matematikai definícióit.)</p><p><span class="inlinemediaobject"><img src="math/mi-25-0004.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span></p><p>A következő lépésben szükségünk van egy érzékelő modellre. Kétféle érzékelő modellről beszélhetünk. Az első azon alapul, hogy a szenzor <span class="strong"><strong>referenciapont</strong></span>oknak (<span class="strong"><strong>landmark</strong></span>s) nevezett <span class="emphasis"><em>állandó</em></span> és <span class="emphasis"><em>felismerhető</em></span> jellemvonásokat érzékel és azonosít a környezetében. Minden referenciapontról meghatározza annak távolságát és szögét. Tegyük fel, hogy a robot az <span class="bold"><strong>x<sub>t</sub> = </strong></span>(<span class="emphasis"><em>x<sub>t</sub></em></span>, <span class="emphasis"><em>y<sub>t</sub></em></span>, <span class="emphasis"><em>q<sub>t</sub></em></span>)<sup>⊤</sup> állapotban van, és érzékel egy ismert (<span class="emphasis"><em>x<sub>i</sub></em></span>, <span class="emphasis"><em>y<sub>i</sub></em></span>)<sup>⊤ </sup>helyen lévő referenciapontot. Ha nem vesszük bele az érzékelés zajosságát, egyszerű geometriával megkapható a távolság és a szög (lásd a 25.6. (a) ábra). Megfigyelés alapján a pontos becslés a távolságra és a szögre:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0005.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span></p><p>A zaj most is torzítja a méréseinket. Egyszerűsítésül Gauss-eloszlású, <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>z</sub> kovarianciájú <span class="emphasis"><em>i</em></span> zajt tételezhetünk fel:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0006.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span></p><p>A 25.2. ábrán bemutatott távolságszenzorokhoz kicsit másféle érzékelő modell is megfelelő lehet. Az ilyen érzékelők egy <span class="bold"><strong>z<sub>t</sub> = </strong></span>(<span class="emphasis"><em>z</em></span><sub>1</sub>,…, <span class="emphasis"><em>z<sub>M</sub></em></span>)<sup>⊤</sup><sup> </sup>vektort adnak vissza távolságadatokkal, amelyek a robothoz képest rögzített irányokban lévő tárgyakról hordoznak információt. Adott <span class="strong"><strong>x</strong></span><sub>t </sub>pozícióban legyen <span class="inlinemediaobject"><img src="math/mi-25-0007.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span><span class="emphasis"><em> </em></span>a <span class="emphasis"><em>j</em></span>-edik sugár irányába lévő legközelebbi akadály pontos távolsága. Csakúgy, mint korábban, most is Gauss-zajt tételezünk fel. Általánosan vehetjük úgy, hogy a különböző sugárirányokbeli hibák függetlenek és azonos eloszlásúak, így:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0008.gif" alt="(a) Egy mobil robot egyszerűsített kinematikai modellje. A robotot a kör jelképezi, és a bevágás mutatja a haladási irányt. Külön-külön láthatjuk a t-beli és a t + 1-beli pozíciót és orientációt a vt ∆t és ωt ∆t frissítési értékekkel. Szintén fel van tüntetve egy t időpontban megfigyelt referenciapont (tereptárgy) az (xi, yi) pontban. (b) A pásztázó távolságmérés modellje. Egy adott távolságú méréshez (z1, z2, z3, z4) tartozó két lehetséges robothelyzet látható. Sokkal valószínűbb, hogy a bal oldali helyzetből származnak a távolságmérések."/></span></p><p>A 25.6. (b) ábra egy példát mutat be négyirányú távolságmérő szkennerre, két különböző pozíció esetén. A kettő közül az egyik sokkal nagyobb valószínűséggel adhatta a megfigyelés négy értékét. Összehasonlítva a pásztázó távolságméréses modellt a referenciapontos modellel látható, hogy az előbbinek az az előnye az utóbbival szemben, hogy nincs szükség egy referenciapont <span class="emphasis"><em>azonosítására</em></span> mielőtt egy tartománypásztázás értelmezhető lenne. Sőt az is előfordulhat – ahogy a 25.6. (b) ábra esetében is –, hogy a robot egy jellegtelen fallal találkozik. Ugyanakkor, ha van egy <span class="emphasis"><em>tisztán látható</em></span>, azonosítható referenciapont, akkor abból azonnal megkapható a pontos helyzet.</p><p>A 15. fejezetben már találkoztunk a Kalman-szűrővel, amely a hiedelmi állapotot egyetlen többváltozós Gauss-eloszlással reprezentálja, illetve a részecskeszűrővel, amely a hiedelmi állapotot az állapotokhoz rendelt részecskeegyüttessel reprezentál-ja. A legtöbb modern lokalizáló algoritmus e két módszer egyikét használja a robot <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub>t</sub>|<span class="strong"><strong>z</strong></span><sub>1:<span class="emphasis"><em>t</em></span></sub>, <span class="emphasis"><em>a</em></span><sub>1:<span class="emphasis"><em>t</em></span>–1</sub>) hiedelmi állapotának leképezésére.</p><p>A részecskeszűrős lokalizációs algoritmust <span class="strong"><strong>Monte Carlo lokalizáció</strong></span>nak (<span class="strong"><strong>Monte Carlo localization</strong></span>, <span class="strong"><strong>MLC</strong></span>) hívják. Az MCL alapvetően megegyezik a 15.15. ábrán bemutatott részecskeszűrős algoritmussal, mindössze annyit kell módosítanunk, hogy szükségünk van a megfelelő mozgás és szenzor modellre. A 25.7. ábra bemutat egy változatot, pásztázó távolságméréses modellel. Az algoritmus működését, azt, hogy hogyan azonosítja a robot saját tartózkodási helyét az irodaépületben, a 25.8. ábra szemlélteti. Az első képen még a részecskék egyenletesen oszlanak el, az előzetes információ alapján, jelképezve a teljes bizonytalanságot a robot pozícióját illetően. A második képen már az első mérések alapján klasztereket alkotnak a részecskék, oda tömörülve, ahol valószínűleg tartózkodik a robot. A harmadik esetben pedig már elég információ áll rendelkezésre a mérésekből, hogy az összes részecske ugyanoda jusson.</p><div class="figure"><a id="id792613"/><p class="title"><strong>25.8. ábra - A Monte Carlo lokalizáció, egy részecskeszűrő algoritmus mobil robotok pozíciójának meghatározására. Felül: a kezdeti, teljes bizonytalanság. Középen: nagyjából kétpólusú bizonytalanság, miután a robot elindult a középső (szimmetrikus) folyosón. Alul: egyetlen pont köré szűkült bizonytalanság, miután bement az egyik irodába.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-08.png" alt="A Monte Carlo lokalizáció, egy részecskeszűrő algoritmus mobil robotok pozíciójának meghatározására. Felül: a kezdeti, teljes bizonytalanság. Középen: nagyjából kétpólusú bizonytalanság, miután a robot elindult a középső (szimmetrikus) folyosón. Alul: egyetlen pont köré szűkült bizonytalanság, miután bement az egyik irodába."/></div></div></div><div class="figure"><a id="id792622"/><p class="title"><strong>25.7. ábra - A Monte Carlo lokalizáló algoritmus, független zajjal terhelt pásztázó távolságméréses modellt használva</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-07.png" alt="A Monte Carlo lokalizáló algoritmus, független zajjal terhelt pásztázó távolságméréses modellt használva"/></div></div></div><p>A Kalman-szűrő a másik széles körben használt lokalizáló algoritmus. A Kalman-szűrő a <span class="strong"><strong>P</strong></span>(<span class="strong"><strong>X</strong></span><sub>t</sub>|<span class="strong"><strong>z</strong></span><sub>1:<span class="emphasis"><em>t</em></span></sub>, <span class="emphasis"><em>a</em></span><sub>1:<span class="emphasis"><em>t</em></span>–1</sub>) posteriort egy Gauss-eloszlással reprezentálja. Az eloszlás középértékét <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t</sub></em></span>-vel, kovarianciáját pedig <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>t</sub>-vel jelöljük. A fő probléma a Gauss-hiedelmekkel az, hogy csak lineáris mozgási modell, <span class="emphasis"><em>f</em></span> és lineáris mérési modell, <span class="emphasis"><em>h</em></span> mellett zártak. Nemlineáris <span class="emphasis"><em>f</em></span> vagy <span class="emphasis"><em>h</em></span> esetén a szűrő frissítésének eredménye általában már nem lesz Gauss-eloszlású. Így Kalman-szűrőt használó lokalizációs algoritmusok <span class="strong"><strong>linearizál</strong></span>ják a mozgási és az érzékelő modelleket. A linearizálás egy nemlineáris függvény adott lokális lineáris közelítése. A 25.9. ábra a linearizálás elvét mutatja be egy (egydimenziós) robotmozgási modellen. A bal oldalon fut a mozgás nemlineáris <span class="emphasis"><em>f</em></span>(<span class="strong"><strong>x</strong></span><sub>t</sub>, <span class="emphasis"><em>a<sub>t</sub></em></span>) modellje (az <span class="emphasis"><em>a<sub>t</sub></em></span> vezérlés nem szerepel az ábrán, mert nem játszik szerepet a linearizálásban). A jobb oldalon ezt egy <span class="emphasis"><em>f</em></span>(<span class="strong"><strong>x</strong></span><sub>t</sub>, <span class="emphasis"><em>a<sub>t</sub></em></span>) lineáris függvénnyel közelítjük. A lineáris függvény a <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t</sub></em></span> pontban érinti az <span class="emphasis"><em>f</em></span>-et, ami a <span class="emphasis"><em>t</em></span> időre vonatkozó becslésünk középértéke. Ezt a linearizálást (első fokú) <span class="strong"><strong>Taylor-sorfejtés</strong></span>nek (<span class="strong"><strong>Taylor expansion</strong></span>) hívják. Az olyan Kalman-szűrőt, amely <span class="emphasis"><em>f</em></span>-et és <span class="emphasis"><em>h</em></span>-t Taylor-sorfejtéssel linearizálja, <span class="strong"><strong>kiterjesztett Kalman-szűrő</strong></span>nek (<span class="strong"><strong>KKSZ</strong></span>; <span class="strong"><strong>extended Kalman Filter</strong></span> – <span class="strong"><strong>EKF</strong></span>) hívjuk. A 25.10. ábra egy KKSZ helymeghatározó algoritmust használó robot becsléssorozatát mutatja. Ahogy a robot halad, a helyzetére vonatkozó becslés bizonytalansága egyre nő, ahogy azt a hibaellipszis is mutatja. A hiba csökken, ahogy a robot egy ismert elhelyezkedésű referenciapont távolsága és szöge alapján javítani tudja saját helyzetére vonatkozó becslését. A hiba végül újra nőni kezd, ahogy a referenciapont kikerül a robot látóköréből. A KKSZ algoritmus jól működik, ha könnyen azonosítható referenciapontok vannak. Ellenkező esetben az a posteriori<span class="emphasis"><em> </em></span>eloszlás multimodális is lehet, mint a 25.8. (b) ábrán. A referenciapontok azonosításának szükségességét jelentő probléma csak egy példa a 15. fejezet végén tárgyalt<span class="strong"><strong> adatasszociáció</strong></span>s (<span class="strong"><strong>data association</strong></span>) problémának.</p><div class="figure"><a id="id792812"/><p class="title"><strong>25.9. ábra - Egydimenziós, linearizált mozgási modell illusztrálása: (a) Az <span class="emphasis"><em>f</em></span> függvény és <span class="emphasis"><em>t + </em></span>1<span class="emphasis"><em> </em></span>időpontbeli <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t</sub></em></span> középértéke és kovarianciája (<span xml:lang="hu" class="bold">Σ</span><sub>t </sub>alapján). (b) A linearizált változat az <span class="emphasis"><em>f</em></span> érintője a <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t</sub></em></span> pontban. A <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t </sub></em></span>középérték ugyanaz marad, ugyanakkor az előrevetített <span class="inlinemediaobject"><img src="math/mi-25-0009.gif" alt="Egydimenziós, linearizált mozgási modell illusztrálása: (a) Az f függvény és t + 1 időpontbeli μt középértéke és kovarianciája (Σt alapján). (b) A linearizált változat az f érintője a μt pontban. A μt középérték ugyanaz marad, ugyanakkor az előrevetített kovariancia már különbözik a Σt+1-től."/></span> kovariancia már különbözik a <span xml:lang="hu" class="bold">Σ</span><sub><span class="emphasis"><em>t</em></span>+1</sub>-től.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-09.png" alt="Egydimenziós, linearizált mozgási modell illusztrálása: (a) Az f függvény és t + 1 időpontbeli μt középértéke és kovarianciája (Σt alapján). (b) A linearizált változat az f érintője a μt pontban. A μt középérték ugyanaz marad, ugyanakkor az előrevetített kovariancia már különbözik a Σt+1-től."/></div></div></div><div class="figure"><a id="id792892"/><p class="title"><strong>25.10. ábra - Példa a kiterjesztett Kalman-szűrő használatára lokalizációs problémához. A robot egy egyenes mentén mozog. Ahogy halad előre, a saját helyzetének ismeretéhez tartozó bizonytalanság fokozatosan nő, ahogy azt a hibaellipszisek mutatják. Amikor észrevesz egy ismert pozíciójú referenciapontot, a bizonytalanság csökken.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-10.png" alt="Példa a kiterjesztett Kalman-szűrő használatára lokalizációs problémához. A robot egy egyenes mentén mozog. Ahogy halad előre, a saját helyzetének ismeretéhez tartozó bizonytalanság fokozatosan nő, ahogy azt a hibaellipszisek mutatják. Amikor észrevesz egy ismert pozíciójú referenciapontot, a bizonytalanság csökken."/></div></div></div></div><div class="section" title="Térképezés"><div class="titlepage"><div><div><h2 class="title"><a id="id792902"/>Térképezés</h2></div></div></div><p>Az előzők során egyetlen tárgy helymeghatározásának problémáját tárgyaltuk meg. A robotikában azonban általában egyszerre több tárgy helyzetét kell meghatározni. A klasszikus példa erre a feladatra a térképezés. Képzeljünk el egy robotot, amelyiknek nincs pontos térképe a környezetéről, magának kell azt elkészítenie. Az ember fantasztikus képességeket fejlesztett ki, hogy feltérképezze környezetét, mára már az egész bolygót. Természetesen adódó feladat egy olyan algoritmus kitalálása, amely képessé teszi ugyanerre a robotot is.</p><p>Az irodalomban a robottérképezés problémáját gyakran mint <span class="strong"><strong>szimultán helymeghatározást és térképezést</strong></span> (<span class="strong"><strong>SZLT</strong></span>; <span class="strong"><strong>simultaneous localization and mapping,</strong></span> <span class="strong"><strong>SLAM</strong></span>) említik. A robotnak nem csupán egy térképet kell konstruálnia, hanem ezt anélkül kell tennie, hogy ismerné, ő maga hol tartózkodik. Az SZLT az egyik alapvető robotikai probléma. Azt a változatot fogjuk tekinteni, amikor a környezet állandó. A feladat így is meglehetősen bonyolult; és még nehezebbé válik, ha megengedjük, hogy a környezet változzon, ahogyan a robot mozog benne.</p><p>Statisztikai oldalról nézve a térképezés egy Bayes következtetési probléma, csakúgy, mint a lokalizáció. Jelöljük <span class="emphasis"><em>M</em></span>-mel a térképet és <span class="strong"><strong>X</strong></span><sub>t</sub>-vel a robot <span class="emphasis"><em>t</em></span> pillanatbeli helyzetét, mint ahogy azt korábban is tettük. Ekkor átírhatjuk a (25.1) egyenletet, hogy a posterior tartalmazza a teljes térképet is:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0010.gif" alt="Térképezés"/></span></p><p>Szerencsére az egyenletből látszik, hogy a feltételes eloszlások, amelyek a cselekvések és mérések figylembevételéhez kellenek, alapvetően megegyeznek a helymeghatározás problémájánál használtakkal. A fő különbség az, hogy az új állapottér már sokkal több dimenziós, mert tartalmazza az összes robothelyzeten kívül az összes térképet is. Képzeljük csak el, ha egy egész épületet akarunk leképezni fotorealisztikusan! Ez esetleg több száz millió numerikus adatot igényelne. Minden egyes numerikus adat egy véletlen változó lesz, és hozzájárul, hogy az állapottér elképesztően nagy dimenziós legyen. Ami még tovább bonyolítja a problémát, hogy a robot esetleg előre nem is tudja, hogy milyen nagy a környezete, ezért <span class="emphasis"><em>M</em></span> dimenzióját a térképezés során dinamikusan kellene növelni.</p><p>Talán a legszélesebb körben használt módszer az SZLT-probléma megoldására a KKSZ. A szűrőhöz általában társítanak még egy referenciapont-érzékelő modellt is, valamint kitétel, hogy az összes referenciapont megkülönböztethető legyen. A korábbiakban a posterior becslését egy <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t </sub></em></span>várható értékű, <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>t</sub> kovarianciájú Gauss-eloszlással jellemeztük. Az SZLT/probléma KKSZ-megközelítésénél a posterior megint csak Gauss-eloszlású lesz, de most a középérték egy sokkal nagyobb vektor. Nemcsak a robot helyzetét rögzíti, hanem tartalmazza a térkép összes jellemzőjét (vagy referenciapontját) is. Amennyiben <span class="emphasis"><em>n</em></span> ilyen jellemzőnk van, akkor a vektor 2<span class="emphasis"><em>n + </em></span>3 dimenziós lesz (két paraméterrel írható le a referenciapontok helyzete és hárommal a robot póza). Következésképpen a<span class="strong"><strong> </strong></span><span class="strong"><strong>Σ</strong></span><sub>t</sub> mátrix (2<span class="emphasis"><em>n + </em></span>3)-szor (2<span class="emphasis"><em>n + </em></span>3)-as lesz, az alábbi struktúrával:</p><p><span class="inlinemediaobject"><img src="math/mi-25-0011.gif" alt="Térképezés"/></span></p><p>Ahol is a <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>XX</sub> a robot helyzetének a kovarianciája, amit már korábban figyelembe vettünk a helymeghatározásnál. <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>XM </sub>egy 3-szor 2<span class="emphasis"><em>n</em></span>-es mátrix, amely a referenciapontok és a robotkoordináták közötti korrelációt fejezi ki. Végezetül a <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>MM</sub> egy 2<span class="emphasis"><em>n</em></span>-szer 2<span class="emphasis"><em>n</em></span>-es mátrix, ami a térképjellemzők kovarianciáját írja le, beleértve az összes páronkénti korrelációt. Így a KKSZ memóriaigénye kvadratikusan nő <span class="emphasis"><em>n</em></span>-nel, a térképen lévő jellemzők számával, és a frissítési idő szintén kvadratikus <span class="emphasis"><em>n</em></span>-ben.</p><p>Mielőtt elmerülnénk a matematikai részletekben, tanulmányozzuk grafikusan a KKSZ-t. A 25.11. ábra egy robotot mutat, amelynek környezetében nyolc referenciapont helyezkedik el két sorban, mindegyikben négy referenciaponttal. Kezdetben a robotnak nincs információja arról, hogy hol helyezkednek el a referenciapontok. Tételezzük fel, hogy az összes pont más színű, és a robot ezeket egyértelműen meg tudja különböztetni egymástól! A robot egy ismert pozícióból balra indul el, de fokozatosan elveszti pontos helyének ismeretét. Ezt jelölik a hibaellipszisek a 25.11. (a) ábrán. Az ellipszisek szélessége növekszik, ahogy a robot halad előre. Ahogy a robot mozog, a közeli referenciapontok távolságának és szögének érzékelése révén a robot meg tudja becsülni azok helyzetét. Természetesen ezeknek a becsléseknek a bizonytalansága nagyban függ a robot saját helyzetére vonatkozó becslésének bizonytalanságától. A 25.11. (b) és (c) ábrák illusztrálják a robot hiedelmét, ahogy fokozatosan halad előre környezetében.</p><div class="figure"><a id="id793063"/><p class="title"><strong>25.11. ábra - A KKSZ alkalmazása a robottérképezés problémájára. A robot pályája a szaggatott vonal, és a besatírozott ellipszisek jelentik helyzetére vonatkozó saját becsléseit. Nyolc pont jelenti az ismeretlen helyzetű referenciapontokat, míg a helyzetükre vonatkozó becsléseiket a fehér ellipszisek mutatják. Az (a), (b) és (c) ábrákon a robot helyzetére vonatkozó becslés bizonytalansága folyamatosan növekszik, ahogy azoké a referenciapontoké is, amelyek mellett elmegy. A (d) ábrán a robot újra elérkezik az első referenciaponthoz, így az összes többi pont helyzetének bizonytalansága is csökken, köszönhetően annak, hogy a becslések korreláltak.</strong></p><div class="figure-contents"><div class="mediaobject"><img src="kepek/25-11.png" alt="A KKSZ alkalmazása a robottérképezés problémájára. A robot pályája a szaggatott vonal, és a besatírozott ellipszisek jelentik helyzetére vonatkozó saját becsléseit. Nyolc pont jelenti az ismeretlen helyzetű referenciapontokat, míg a helyzetükre vonatkozó becsléseiket a fehér ellipszisek mutatják. Az (a), (b) és (c) ábrákon a robot helyzetére vonatkozó becslés bizonytalansága folyamatosan növekszik, ahogy azoké a referenciapontoké is, amelyek mellett elmegy. A (d) ábrán a robot újra elérkezik az első referenciaponthoz, így az összes többi pont helyzetének bizonytalansága is csökken, köszönhetően annak, hogy a becslések korreláltak."/></div></div></div><p>Ezen becslések fontos jellemzője – ami egyáltalán nem magától értetődő az ábrákon –, hogy a becsléseket <span class="emphasis"><em>egyetlen</em></span> Gauss-eloszlás jellemzi. A 25. 11. ábrán látható hibaellipszisek csupán ennek az eloszlásnak a vetületei a robot- és referenciakoordináták alterébe. Ez a többváltozós Gauss a posteriori eloszlás tartja fenn a korrelációt az összes becslés között. Fontos ez az észrevétel annak megértéséhez, hogy mi történik a 25.11. (d) ábrán. Itt a robot észrevesz egy korábban már feltérképezett referenciapontot. Ennek következtében saját pozíciójának bizonytalansága drasztikusan csökken, mint ahogy az öszszes többi referenciapont bizonytalansága is. Ez annak a következménye, hogy a robot és a pontok helyzetének becslése erősen korreláltak a Gauss a posteriori eloszlásban. Bármilyen új információ egy változóról (ebben az esetben a robot helyzetéről) automatikusan csökkenti az összes többi változó bizonytalanságát.</p><p>A térképezéshez használatos KKSZ algoritmus hasonlít a korábban a lokalizációhoz használt KKSZ-re. A legfontosabb különbséget a referenciapont-változók hozzáadása jelenti a posteriorban. A referenciapontok mozgásmodellje triviális: nem mozognak. Így az <span class="emphasis"><em>f</em></span> függvény azokra a változókra az identitásfüggvény. A mérési függvény alapvetően megegyezik a korábban használttal. Az egyetlen különbség a KKSZ <span class="emphasis"><em>frissítési</em></span> egyenletben az, hogy a <span class="emphasis"><em>H<sub>t</sub></em></span> Jacobi-mátrixnak nemcsak a robot pozícióját kell figyelembe vennie, hanem a referenciapontok <span class="emphasis"><em>t</em></span>-ben megfigyelt helyzetét is. Az így kapott KKSZ-egyenletek még ijesztőbbek, mint a korábbiak, ezért itt nem is tárgyaljuk őket.</p><p>Ugyanakkor van még egy nehézség, amit szép csöndben figyelmen kívül hagytunk eddig: az <span class="emphasis"><em>M</em></span> térkép méretét nem tudjuk előre. Ebből kifolyólag a végső becsléshez tartozó <span class="emphasis"><em><span xml:lang="hu" class="bold"><strong>μ</strong></span><sub>t</sub></em></span> és <span xml:lang="hu" class="bold"><strong>Σ</strong></span><sub>t</sub> elemeinek száma szintén ismeretlen. Ezeket dinamikusan kell meghatározni, ahogy a robot újabb referenciapontokat talál. A probléma megoldása elég egyszerű: amikor a robot felfedez egy új referenciapontot, egyszerűen hozzáad egy új elemet a posteriorhoz. Ha ennek az új elemnek a varianciáját nagyon nagy kezdeti értékűre választjuk, akkor az eredményül kapott posterior ugyanaz, mintha a robot már korábban is tudott volna annak a referenciapontnak a létezéséről.</p></div><div class="section" title="További érzékelési típusok"><div class="titlepage"><div><div><h2 class="title"><a id="id793122"/>További érzékelési típusok</h2></div></div></div><p>Nem minden robotérzékelés helymeghatározás és térképezés. A robotok érzékelhetnek hőmérsékletet, szagokat, hangokat stb. Ezek közül sok valószínűségi alapon becsülhető, mint ahogyan a lokalizációnál és a térképezésnél láttuk. Mindössze olyan feltételes valószínűség-eloszlásokat kell találni, amelyek leírják az állapotváltozók időbeli viselkedését, illetve olyan eloszlásokat, amelyek jellemzik a mérések és az állapotváltozók kapcsolatát.</p><p>Azonban nem minden működő robotérzékelési rendszer alapul valószínűségi modellezésen. Valójában nem szükséges, hogy minden belső állapotnak legyen valós fizikai interpretációja, ahogy az a mi példáink esetén volt. Például képzeljünk magunk elé egy járó robotot, amely éppen az egyik lábát próbálja egy akadály felett átemelni. Feltételezzük, hogy a robot olyan szabályt alkalmaz, amely szerint kiindulásként csak kicsit emeli fel a lábát, de egyre nagyobb és nagyobb magasságokkal próbálkozik, ha a lába folyton beleütközik valamilyen akadályba. Mondhatjuk-e, hogy az emelt láb magassága valamilyen valós fizikai paraméter reprezentációja? Esetleg igen, és akkor az az akadály magasságára, illetve átléphetőségére vonatkozik. Ugyanakkor mondhatjuk azt is, hogy a lábmagasság a robot vezérlésének egy segédváltozója, mindenfajta fizikai jelentés nélkül. Az ilyen reprezentációk nem ritkák a robotikában, és bizonyos feladatok megoldására kiválóan alkalmasak.</p><p>A robotika jelenlegi trendjei egyértelműen egy jól definiált szemantikával rendelkező leírás felé mutatnak. A valószínűség-alapú modellek egyre inkább kiszorítják a többi megoldást olyan komplex problémák esetén, mint amilyen a helymeghatározás és a térképezés. Bizonyos esetekben azonban a statisztikai technikák túlságosan körülményesek, és néha a gyakorlatban az egyszerűbb megoldások is éppen olyan hatékonyak. A legmegfelelőbb alkalmazandó módszer kiválasztását leginkább a valódi robotokkal történő munka során szerzett tapasztalatok segítik.</p></div></div></body></html>
